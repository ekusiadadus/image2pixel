import{j as h}from"./jsx-runtime-CKrituN3.js";import{r as m}from"./index-CBqU2yxZ.js";import"./index-DQxsDPTp.js";import"./_commonjsHelpers-BosuxZz1.js";import"./chunk-JWY6Y6NU-CcZm9pmn.js";import"./react-18-Bym-zv4b.js";const f=({image:a,imageUri:d,pixelSize:n})=>{const u=m.useRef(null);m.useEffect(()=>{if(u.current&&(a||d)){const l=u.current,e=l.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:s,height:c}=o;l.width=s,l.height=c,e==null||e.drawImage(o,0,0);for(let t=0;t<c;t+=n)for(let r=0;r<s;r+=n){const P=e==null?void 0:e.getImageData(r,t,n,n),p=y(P);e&&(e.fillStyle=`rgb(${p.r}, ${p.g}, ${p.b})`,e.fillRect(r,t,n,n))}},a){const s=new FileReader;s.onload=c=>{var t;o.src=(t=c.target)==null?void 0:t.result},s.readAsDataURL(a)}else d&&(o.src=d)}},[a,d,n]);function y(l){const e=l==null?void 0:l.data;let o=0,s=0,c=0,t=0;if(e)for(let r=0;r<e.length;r+=4)o+=e[r],s+=e[r+1],c+=e[r+2],t++;return{r:o/t,g:s/t,b:c/t}}return h.jsx("canvas",{ref:u})},A=f;try{f.displayName="PixelArt",f.__docgenInfo={description:"",displayName:"PixelArt",props:{image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"File | null"}},imageUri:{defaultValue:null,description:"",name:"imageUri",required:!1,type:{name:"string"}},pixelSize:{defaultValue:null,description:"",name:"pixelSize",required:!0,type:{name:"number"}}}}}catch{}const $={title:"PixelArt/PixelArt",component:A},b=a=>h.jsx(A,{...a}),i=b.bind({});i.args={imageUri:"https://source.unsplash.com/random/800x600",pixelSize:10};var g,x,_;i.parameters={...i.parameters,docs:{...(g=i.parameters)==null?void 0:g.docs,source:{originalSource:"args => <PixelArt {...args} />",...(_=(x=i.parameters)==null?void 0:x.docs)==null?void 0:_.source}}};const q=["Default"];export{i as Default,q as __namedExportsOrder,$ as default};
